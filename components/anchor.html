<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anchor 锚点 - Blinko Design System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', 'PingFang SC', sans-serif;
            background: #F5F5F7;
            padding: 40px;
            line-height: 1.6;
        }
        .component-title {
            font-size: 36px;
            font-weight: 700;
            color: #1C1C1E;
            margin-bottom: 8px;
        }
        .component-subtitle {
            font-size: 15px;
            color: #636366;
            margin-bottom: 40px;
        }
        .doc-section {
            background: white;
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
        }
        .doc-section-title {
            font-size: 20px;
            font-weight: 600;
            color: #1C1C1E;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid #E5E6EB;
        }
        .demo-box {
            background: #F7F8FA;
            border: 1px solid #E5E6EB;
            border-radius: 8px;
            padding: 24px;
            margin: 16px 0;
        }
        .demo-title {
            font-size: 13px;
            font-weight: 500;
            color: #1C1C1E;
            margin-bottom: 12px;
        }
        .code-block {
            background: #1D2129;
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            margin: 16px 0;
            position: relative;
        }
        .code-block pre {
            margin: 0;
            color: #F7F8FA;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 13px;
            line-height: 1.6;
        }
        .copy-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        .api-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
        }
        .api-table th, .api-table td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid #E5E6EB;
        }
        .api-table th {
            background: #F7F8FA;
            color: #1C1C1E;
            font-weight: 600;
            font-size: 13px;
        }
        .api-table td {
            color: #4E5969;
            font-size: 13px;
        }
        .api-table code {
            background: #F2F3F5;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            color: #165DFF;
        }

        /* Anchor Styles */
        .anchor {
            position: relative;
            padding-left: 4px;
        }
        .anchor-wrapper {
            max-height: 400px;
            overflow-y: auto;
            padding-right: 8px;
        }
        .anchor-list {
            list-style: none;
        }
        .anchor-link {
            display: block;
            padding: 6px 0 6px 16px;
            color: #4E5969;
            text-decoration: none;
            font-size: 14px;
            position: relative;
            transition: all 0.2s;
            line-height: 1.5;
        }
        .anchor-link:hover {
            color: #6750A4;
        }
        .anchor-link.active {
            color: #6750A4;
            font-weight: 500;
        }
        .anchor-link.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 16px;
            background: #6750A4;
            border-radius: 2px;
        }
        .anchor-link-sub {
            padding-left: 32px;
            font-size: 13px;
        }
        .anchor-link-sub-sub {
            padding-left: 48px;
            font-size: 12px;
        }
        .anchor-title {
            margin: 24px 0 16px;
            padding: 8px 0;
            color: #1C1C1E;
            font-weight: 600;
        }
        .anchor-content {
            padding: 16px;
            background: #F7F8FA;
            border-radius: 6px;
            margin-bottom: 16px;
            color: #4E5969;
            line-height: 1.8;
        }
        .anchor-fixed {
            position: fixed;
            top: 20px;
            z-index: 1000;
        }
        .anchor-inline {
            display: inline-block;
            margin-left: 8px;
            opacity: 0;
            transition: opacity 0.2s;
        }
        .anchor-title:hover .anchor-inline {
            opacity: 1;
        }
        .anchor-inline-link {
            color: #6750A4;
            text-decoration: none;
            font-size: 16px;
        }
        .demo-content-area {
            max-height: 400px;
            overflow-y: auto;
            padding: 16px;
            background: white;
            border-radius: 6px;
        }
    </style>
</head>
<body>
    <h1 class="component-title">Anchor 锚点</h1>
    <p class="component-subtitle">用于跳转到页面指定位置的组件</p>

    <!-- 基础用法 -->
    <div class="doc-section">
        <h2 class="doc-section-title">基础用法</h2>
        <div class="demo-box">
            <div class="demo-title">最简单的锚点用法</div>
            <div style="display: flex; gap: 40px;">
                <div class="anchor">
                    <div class="anchor-wrapper">
                        <ul class="anchor-list">
                            <li><a href="#basic-demo" class="anchor-link active" data-target="basic-demo">基础用法演示</a></li>
                            <li><a href="#static-demo" class="anchor-link" data-target="static-demo">静态位置</a></li>
                            <li><a href="#scroll-demo" class="anchor-link" data-target="scroll-demo">滚动内容</a></li>
                        </ul>
                    </div>
                </div>
                <div class="demo-content-area" style="flex: 1;">
                    <h3 id="basic-demo" class="anchor-title">基础用法演示</h3>
                    <div class="anchor-content">
                        这是基础用法演示的内容区域。点击左侧的锚点链接，页面会平滑滚动到对应位置。Anchor 组件会自动监听滚动位置，高亮显示当前可见区域对应的锚点。
                    </div>
                    <h3 id="static-demo" class="anchor-title">静态位置</h3>
                    <div class="anchor-content">
                        锚点可以用于快速导航到页面的不同部分。特别适合用于长页面的目录导航。使用锚点可以大大提升用户的浏览体验。
                    </div>
                    <h3 id="scroll-demo" class="anchor-title">滚动内容</h3>
                    <div class="anchor-content">
                        当页面内容较多时，使用 Anchor 组件可以帮助用户快速定位到感兴趣的内容区域。这是 Anchor 组件的最后一个演示部分。
                    </div>
                </div>
            </div>
        </div>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">复制代码</button>
            <pre>&lt;div class="anchor"&gt;
    &lt;div class="anchor-wrapper"&gt;
        &lt;ul class="anchor-list"&gt;
            &lt;li&gt;&lt;a href="#basic-demo" class="anchor-link active"&gt;基础用法演示&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href="#static-demo" class="anchor-link"&gt;静态位置&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href="#scroll-demo" class="anchor-link"&gt;滚动内容&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;!-- 目标内容 --&gt;
&lt;h3 id="basic-demo" class="anchor-title"&gt;基础用法演示&lt;/h3&gt;
&lt;div class="anchor-content"&gt;...&lt;/div&gt;</pre>
        </div>
    </div>

    <!-- 固定模式 -->
    <div class="doc-section">
        <h2 class="doc-section-title">固定模式</h2>
        <div class="demo-box">
            <div class="demo-title">滚动时固定锚点组件</div>
            <div style="display: flex; gap: 40px;">
                <div class="anchor">
                    <div class="anchor-wrapper">
                        <ul class="anchor-list">
                            <li><a href="#fixed-1" class="anchor-link active" data-target="fixed-1">第一部分</a></li>
                            <li><a href="#fixed-2" class="anchor-link" data-target="fixed-2">第二部分</a></li>
                            <li><a href="#fixed-3" class="anchor-link" data-target="fixed-3">第三部分</a></li>
                            <li><a href="#fixed-4" class="anchor-link" data-target="fixed-4">第四部分</a></li>
                        </ul>
                    </div>
                </div>
                <div class="demo-content-area" style="flex: 1;">
                    <h3 id="fixed-1" class="anchor-title">第一部分</h3>
                    <div class="anchor-content">
                        这是第一部分的内容。向下滚动查看固定锚点的效果。
                    </div>
                    <h3 id="fixed-2" class="anchor-title">第二部分</h3>
                    <div class="anchor-content">
                        这是第二部分的内容。锚点导航会始终保持在可视区域。
                    </div>
                    <h3 id="fixed-3" class="anchor-title">第三部分</h3>
                    <div class="anchor-content">
                        这是第三部分的内容。您可以随时点击左侧导航快速跳转。
                    </div>
                    <h3 id="fixed-4" class="anchor-title">第四部分</h3>
                    <div class="anchor-content">
                        这是第四部分的内容。固定模式特别适合长文档的导航。
                    </div>
                </div>
            </div>
        </div>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">复制代码</button>
            <pre>&lt;!-- 使用 CSS position: fixed 实现固定模式 --&gt;
&lt;div class="anchor anchor-fixed" style="position: fixed; top: 20px;"&gt;
    &lt;div class="anchor-wrapper"&gt;
        &lt;ul class="anchor-list"&gt;
            &lt;li&gt;&lt;a href="#fixed-1" class="anchor-link active"&gt;第一部分&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href="#fixed-2" class="anchor-link"&gt;第二部分&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;</pre>
        </div>
    </div>

    <!-- 多级锚点 -->
    <div class="doc-section">
        <h2 class="doc-section-title">多级锚点</h2>
        <div class="demo-box">
            <div class="demo-title">支持多级嵌套的锚点导航</div>
            <div style="display: flex; gap: 40px;">
                <div class="anchor">
                    <div class="anchor-wrapper">
                        <ul class="anchor-list">
                            <li><a href="#multi-1" class="anchor-link active" data-target="multi-1">第一章</a></li>
                            <li><a href="#multi-2" class="anchor-link" data-target="multi-2">第二章</a>
                                <ul style="list-style: none; margin-top: 4px;">
                                    <li><a href="#multi-2-1" class="anchor-link anchor-link-sub" data-target="multi-2-1">2.1 小节</a></li>
                                    <li><a href="#multi-2-2" class="anchor-link anchor-link-sub" data-target="multi-2-2">2.2 小节</a></li>
                                </ul>
                            </li>
                            <li><a href="#multi-3" class="anchor-link" data-target="multi-3">第三章</a>
                                <ul style="list-style: none; margin-top: 4px;">
                                    <li><a href="#multi-3-1" class="anchor-link anchor-link-sub" data-target="multi-3-1">3.1 小节</a>
                                        <ul style="list-style: none; margin-top: 4px;">
                                            <li><a href="#multi-3-1-1" class="anchor-link anchor-link-sub-sub" data-target="multi-3-1-1">3.1.1 子小节</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="demo-content-area" style="flex: 1;">
                    <h3 id="multi-1" class="anchor-title">第一章</h3>
                    <div class="anchor-content">
                        这是第一章的内容。
                    </div>
                    <h3 id="multi-2" class="anchor-title">第二章</h3>
                    <div class="anchor-content">
                        这是第二章的内容。
                    </div>
                    <h4 id="multi-2-1" class="anchor-title" style="font-size: 16px;">2.1 小节</h4>
                    <div class="anchor-content">
                        这是第二章第一节的内容。
                    </div>
                    <h4 id="multi-2-2" class="anchor-title" style="font-size: 16px;">2.2 小节</h4>
                    <div class="anchor-content">
                        这是第二章第二节的内容。
                    </div>
                    <h3 id="multi-3" class="anchor-title">第三章</h3>
                    <div class="anchor-content">
                        这是第三章的内容。
                    </div>
                    <h4 id="multi-3-1" class="anchor-title" style="font-size: 16px;">3.1 小节</h4>
                    <div class="anchor-content">
                        这是第三章第一节的内容。
                    </div>
                    <h5 id="multi-3-1-1" class="anchor-title" style="font-size: 14px;">3.1.1 子小节</h5>
                    <div class="anchor-content">
                        这是更深层级的小节内容。
                    </div>
                </div>
            </div>
        </div>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">复制代码</button>
            <pre>&lt;div class="anchor"&gt;
    &lt;div class="anchor-wrapper"&gt;
        &lt;ul class="anchor-list"&gt;
            &lt;li&gt;&lt;a href="#multi-1" class="anchor-link active"&gt;第一章&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;
                &lt;a href="#multi-2" class="anchor-link"&gt;第二章&lt;/a&gt;
                &lt;ul style="list-style: none; margin-top: 4px;"&gt;
                    &lt;li&gt;&lt;a href="#multi-2-1" class="anchor-link anchor-link-sub"&gt;2.1 小节&lt;/a&gt;&lt;/li&gt;
                    &lt;li&gt;&lt;a href="#multi-2-2" class="anchor-link anchor-link-sub"&gt;2.2 小节&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;</pre>
        </div>
    </div>

    <!-- 静态锚点链接 -->
    <div class="doc-section">
        <h2 class="doc-section-title">静态锚点链接</h2>
        <div class="demo-box">
            <div class="demo-title">标题旁显示的锚点链接</div>
            <div class="demo-content-area">
                <h3 class="anchor-title">
                    标题一
                    <span class="anchor-inline">
                        <a href="#static-link-1" class="anchor-inline-link">
                            <i class="fa-solid fa-link"></i>
                        </a>
                    </span>
                </h3>
                <div class="anchor-content">
                    这是标题一的内容，悬停在标题上可以看到锚点链接图标。
                </div>
                <h3 class="anchor-title">
                    标题二
                    <span class="anchor-inline">
                        <a href="#static-link-2" class="anchor-inline-link">
                            <i class="fa-solid fa-link"></i>
                        </a>
                    </span>
                </h3>
                <div class="anchor-content">
                    这是标题二的内容，这种模式常见于文档网站。
                </div>
                <h3 class="anchor-title">
                    标题三
                    <span class="anchor-inline">
                        <a href="#static-link-3" class="anchor-inline-link">
                            <i class="fa-solid fa-link"></i>
                        </a>
                    </span>
                </h3>
                <div class="anchor-content">
                    这是标题三的内容，点击链接图标可以复制URL。
                </div>
            </div>
        </div>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">复制代码</button>
            <pre>&lt;h3 class="anchor-title"&gt;
    标题一
    &lt;span class="anchor-inline"&gt;
        &lt;a href="#static-link-1" class="anchor-inline-link"&gt;
            &lt;i class="fa-solid fa-link"&gt;&lt;/i&gt;
        &lt;/a&gt;
    &lt;/span&gt;
&lt;/h3&gt;
&lt;div class="anchor-content"&gt;...&lt;/div&gt;</pre>
        </div>
    </div>

    <!-- API 文档 -->
    <div class="doc-section">
        <h2 class="doc-section-title">API</h2>
        <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">Anchor Props</h3>
        <table class="api-table">
            <thead>
                <tr>
                    <th>参数</th>
                    <th>说明</th>
                    <th>类型</th>
                    <th>默认值</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>affix</code></td>
                    <td>是否固定</td>
                    <td>boolean</td>
                    <td>true</td>
                </tr>
                <tr>
                    <td><code>bounds</code></td>
                    <td>锚点区域边界</td>
                    <td>number</td>
                    <td>5</td>
                </tr>
                <tr>
                    <td><code>offsetTop</code></td>
                    <td>距离窗口顶部达到指定偏移量后触发</td>
                    <td>number</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td><code>showInkInFixed</code></td>
                    <td>固定时是否显示小圆点</td>
                    <td>boolean</td>
                    <td>false</td>
                </tr>
                <tr>
                    <td><code>getContainer</code></td>
                    <td>指定滚动的容器</td>
                    <code>() => HTMLElement</code> | <code>HTMLElement</code>
                    <td>() => window</td>
                </tr>
                <tr>
                    <td><code>getCurrentAnchor</code></td>
                    <td>监听激活的锚点</td>
                    <td>(activeLink: string) => void</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td><code>onClick</code></td>
                    <td>点击锚点的回调</td>
                    <td>(e: MouseEvent, link: { title: ReactNode, href: string }) => void</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td><code>targetOffset</code></td>
                    <td>锚点滚动的偏移量</td>
                    <td>number</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td><code>items</code></td>
                    <td>锚点链接配置</td>
                    <code>Array&lt;{ key: string, href: string, title: ReactNode, children?: any[] }&gt;</code>
                    <td>[]</td>
                </tr>
            </tbody>
        </table>

        <h3 style="font-size: 16px; font-weight: 600; margin: 24px 0 16px;">CSS 类名</h3>
        <table class="api-table">
            <thead>
                <tr>
                    <th>类名</th>
                    <th>说明</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>anchor</code></td>
                    <td>基础锚点样式</td>
                </tr>
                <tr>
                    <td><code>anchor-wrapper</code></td>
                    <td>锚点容器</td>
                </tr>
                <tr>
                    <td><code>anchor-list</code></td>
                    <td>锚点列表</td>
                </tr>
                <tr>
                    <td><code>anchor-link</code></td>
                    <td>锚点链接</td>
                </tr>
                <tr>
                    <td><code>anchor-link.active</code></td>
                    <td>激活状态</td>
                </tr>
                <tr>
                    <td><code>anchor-link-sub</code></td>
                    <td>二级链接</td>
                </tr>
                <tr>
                    <td><code>anchor-link-sub-sub</code></td>
                    <td>三级链接</td>
                </tr>
                <tr>
                    <td><code>anchor-title</code></td>
                    <td>目标标题</td>
                </tr>
                <tr>
                    <td><code>anchor-content</code></td>
                    <td>目标内容</td>
                </tr>
                <tr>
                    <td><code>anchor-fixed</code></td>
                    <td>固定模式</td>
                </tr>
                <tr>
                    <td><code>anchor-inline</code></td>
                    <td>内联锚点</td>
                </tr>
                <tr>
                    <td><code>anchor-inline-link</code></td>
                    <td>内联锚点链接</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        function copyCode(btn) {
            const codeBlock = btn.parentElement;
            const code = codeBlock.querySelector('pre').textContent;
            navigator.clipboard.writeText(code).then(() => {
                btn.textContent = '已复制!';
                setTimeout(() => {
                    btn.textContent = '复制代码';
                }, 2000);
            });
        }

        // Anchor 交互
        function initAnchor(container) {
            const anchorLinks = container.querySelectorAll('.anchor-link');
            const contentArea = container.nextElementSibling || container.parentElement.querySelector('.demo-content-area');

            if (!contentArea) return;

            // 点击链接平滑滚动
            anchorLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('data-target') || link.getAttribute('href').substring(1);
                    const target = document.getElementById(targetId);
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            // 监听滚动，更新激活状态
            const scrollHandler = () => {
                const scrollTop = contentArea.scrollTop;
                const targets = contentArea.querySelectorAll('[id]');

                let activeTarget = null;
                targets.forEach(target => {
                    const targetTop = target.offsetTop - contentArea.offsetTop;
                    if (scrollTop >= targetTop - 20) {
                        activeTarget = target.id;
                    }
                });

                if (activeTarget) {
                    anchorLinks.forEach(link => {
                        link.classList.remove('active');
                        const targetId = link.getAttribute('data-target') || link.getAttribute('href').substring(1);
                        if (targetId === activeTarget) {
                            link.classList.add('active');
                        }
                    });
                }
            };

            contentArea.addEventListener('scroll', scrollHandler);
        }

        // 初始化所有锚点
        document.querySelectorAll('.anchor').forEach(anchor => {
            initAnchor(anchor);
        });
    </script>
</body>
</html>
